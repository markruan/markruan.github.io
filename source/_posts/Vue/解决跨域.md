---
title: 解决跨域
categories:
  - Vue
tag:
  - 采坑
---
### 生产环境和开发环境一次解决跨域问题

 

在config 文件夹里面新建一个 api.config.js 配置文件

```ruby
const isPro = Object.is(process.env.NODE_ENV, 'production')

const baseUrl=isPro ? 'https://api.iqimeng.com' : 'api/'
export default baseUrl;
```

#### 然后在main.js 里面引入,这样可以保证动态的匹配生产和开发的定义前缀

```ruby
import apiConfig from '../config/api.config'

import Axios from 'axios'
import VueAxios from 'vue-axios'

Vue.use(VueAxios, Axios)
Axios.defaults.baseURL = apiConfig
```

